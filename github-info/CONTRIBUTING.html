<!DOCTYPE html><html><head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=Edge">
        <meta name="description">
        <meta name="keywords" content="static content generator,static site generator,static site,HTML,web development,.NET,C#,Razor,Markdown,YAML">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="shortcut icon" href="/Remora.Discord/assets/img/favicon.ico" type="image/x-icon">
        <link rel="icon" href="/Remora.Discord/assets/img/favicon.ico" type="image/x-icon">
        <title>Remora.Discord Documentation - CONTRIBUTING</title>
        <link href="/Remora.Discord/assets/css/highlight.css" rel="stylesheet">
        <link href="/Remora.Discord/assets/css/bootstrap/bootstrap.css" rel="stylesheet">
        <link href="/Remora.Discord/assets/css/adminlte/AdminLTE.css" rel="stylesheet">
        <link href="/Remora.Discord/assets/css/theme/theme.css" rel="stylesheet">
        <link href="//fonts.googleapis.com/css?family=Roboto+Mono:400,700|Roboto:400,400i,700,700i" rel="stylesheet">
        <link href="/Remora.Discord/assets/css/font-awesome.min.css" rel="stylesheet" type="text/css">
        <link href="/Remora.Discord/assets/css/override.css" rel="stylesheet">
        <script src="/Remora.Discord/assets/js/jquery-2.2.3.min.js"></script>
        <script src="/Remora.Discord/assets/js/bootstrap.min.js"></script>        
        <script src="/Remora.Discord/assets/js/app.min.js"></script>         
        <script src="/Remora.Discord/assets/js/highlight.pack.js"></script>   
        <script src="/Remora.Discord/assets/js/jquery.slimscroll.min.js"></script>
        <script src="/Remora.Discord/assets/js/jquery.sticky-kit.min.js"></script>
        <script src="/Remora.Discord/assets/js/mermaid.min.js"></script>
        <script src="/Remora.Discord/assets/js/svg-pan-zoom.min.js"></script>
        <!--[if lt IE 9]>
        <script src="/Remora.Discord/assets/js/html5shiv.min.js"></script>
        <script src="/Remora.Discord/assets/js/respond.min.js"></script>
        <![endif]-->  

        
    </head>
    <body class="hold-transition wyam layout-boxed  ">    
        <div class="top-banner"></div>
        <div class="wrapper with-container">
            <!-- Header -->
            <header class="main-header">   
                     
                <a href="/Remora.Discord/" class="logo">
                            <span>Remora.Discord Documentation</span>
                </a>   
                         
                <nav class="navbar navbar-static-top" role="navigation">
                    <!-- Sidebar toggle button-->
                        <a href="#" class="sidebar-toggle visible-xs-block" data-toggle="offcanvas" role="button">
                            <span class="sr-only">Toggle side menu</span>
                            <i class="fa fa-chevron-circle-right"></i>
                        </a>
                                        
                    <div class="navbar-header">
                        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse">
                            <span class="sr-only">Toggle side menu</span>
                            <i class="fa fa-chevron-circle-down"></i>
                        </button>
                    </div>
            
                    <!-- Collect the nav links, forms, and other content for toggling -->
                    <div class="collapse navbar-collapse pull-left" id="navbar-collapse">
                        <ul class="nav navbar-nav">                            
                                    <li><a href="/Remora.Discord/guides">Guides</a></li>
        <li><a href="/Remora.Discord/info">Info</a></li>
        <li><a href="/Remora.Discord/api">API</a></li>
 
                        </ul>       
                    </div>
                    <!-- /.navbar-collapse -->
                
                    <!-- Navbar Right Menu -->
                </nav>
            </header>
            
            <!-- Left side column. contains the logo and sidebar -->
            <aside class="main-sidebar ">
                <section class="infobar" data-spy="affix" data-offset-top="60" data-offset-bottom="200"> 
                    	
    <div id="infobar-headings"><h6>On This Page</h6><p><a href="#contributing">Contributing</a></p>
<p><a href="#table-of-contents">Table of Contents</a></p>
<hr class="infobar-hidden">
</div>

                </section>
                <section class="sidebar">    
                                     
                    

                    <ul class="sidebar-menu">
                        

                <li class="selected"><a href="/Remora.Discord/github-info/CONTRIBUTING">CONTRIBUTING</a></li>
                <li class="treeview">
                    <a href="/Remora.Discord/github-info/ISSUE_TEMPLATE">ISSUE TEMPLATE</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/Remora.Discord/github-info/ISSUE_TEMPLATE/bug-report">Bug Report</a></li>
                <li><a href="/Remora.Discord/github-info/ISSUE_TEMPLATE/feature-request">Feature Request</a></li>

                    </ul>
                </li>

                    </ul>
                            
                </section>                
            </aside>
            
            <!-- Content Wrapper. Contains page content -->
            <div class="content-wrapper">
                



		<section class="content-header">
			<h1>CONTRIBUTING</h1>
		</section>
	<section class="content">
		<h1 id="contributing">Contributing</h1>
<p>Welcome to Remora.Discord's contributing guidelines! I'm glad you've decided to read this document, and I hope that
it'll be helpful in any contributions you make to the library.</p>
<p>Generally, this document will serve to give you some background on design choices made in the library, as well as
to highlight things to be aware of while developing new features or fixing bugs. If there are any questions or
irregularities that can't be answered by this document, open an issue and ask for assistance - I'll do my best to
clarify and answer.</p>
<h1 id="table-of-contents">Table of Contents</h1>
<ol>
<li><a href="#1-goals">Goals</a>
<ol>
<li><a href="#11-correctness">Correctness</a></li>
<li><a href="#12-robustness">Robustness</a></li>
<li><a href="#13-true-asynchronicity-and-concurrency">True Asynchronicity and Concurrency</a></li>
</ol>
</li>
<li><a href="#2-structure">Structure</a></li>
<li><a href="#3-how-to-contribute">How to Contribute</a></li>
<li><a href="#4-tips--tricks">Tips &amp; Tricks</a></li>
</ol>
<h2 id="goals">1. Goals</h2>
<p>To understand many of the design choices, you must first understand the three pillar goals of Remora.Discord, and why
they are the way they are. Remora.Discord originates from the original author's frustration with many inconsistencies
in various APIs in the  C#/Discord ecosystem, both in relation to the Discord API itself and the language usage within
existing solutions. The goals below were set early in the development process to guide development away from these
problems, and to find parts of the user experience that should be placed at the forefront of the library.</p>
<p>Therefore, Remora.Discord defines the following three goals.</p>
<h3 id="correctness">1.1 Correctness</h3>
<p>Correctness, in the context of Remora.Discord, means that the API available to the end user should as faithfully and
accurately represent the actual reality of data presented to or from an API; that is, no data or structure of data
should meaningfully change between the library receiving it and the user accessing it.</p>
<p>As an example, Discord sometimes sends what they refer to as "partial" objects, while still defining the data entities
as having fields not transmitted in partial objects as required. Remora.Discord interprets this as an error in Discord's
API documentation and implements these fields as optional, thus providing a "correct" view of the data.</p>
<h3 id="robustness">1.2 Robustness</h3>
<p>Robustness refers to a focus on never allowing problems originating from user data or real-life runtime conditions to
bring down or otherwise corrupt the end user's application. The end user should be confident that, should an error
arise, they will be aware of the fault potential before even compiling the application.</p>
<p>Any method that has a fault potential should be declared in such a way that the user must consider whether the operation
was successful before proceeding. To this end, Remora.Discord further breaks issues down into the following categories:</p>
<ul>
<li>Programmer errors</li>
<li>User errors</li>
<li>Environment errors</li>
</ul>
<p>Programmer errors are caused by incorrect, invalid, or inappropriate use of Remora.Discord's API that cannot be caught
at compile time. These errors should, as early as possible, throw an exception to prevent the invalid usage from making
it out of the development phase.</p>
<pre><code class="language-c#">_object.CallMeAfterA(); // throws InvalidOperationException
_object.A();
</code></pre>
<p>User errors originate from externally sourced input to the library, such as payloads from Discord, or data from the end
user provided in a method call. These errors typically involve Remora.Discord encountering data it is unable to parse,
data it is unfamiliar with, or data violating some form of constraint. The primary distinction from programmer errors
is that these issues may appear frequently or nondeterministically, usually due to the end user varying their input.</p>
<pre><code class="language-c#">var result = _object.PerformPotentiallyFailingAction();
if (result.IsSuccess)
{
    ...
}
</code></pre>
<p>In all cases, this category of errors should result in an unsuccessful return type being returned by the callee.</p>
<p>Environment errors stem from indirect problems; network outages, disk space, memory runout, etc. While in their own
category due to their unpredictability, they are treated and reported the same way as user errors.</p>
<h3 id="true-asynchronicity-and-concurrency">1.3 True Asynchronicity and Concurrency</h3>
<p>Remora.Discord aims to be truly asynchronous from the ground up, respecting and utilizing established best practices for
C# and the TPL. Furthermore, it aims to be concurrent, allowing end users to react to and perform actions upon many
incoming events at once.</p>
<p>Everything that Remora.Discord provides to the end user which involves some form of either IO- or CPU-bound work is
presented as a task, and it assumes everything a user wishes to perform in registered callbacks or customized services
may become IO or CPU bound.</p>
<p>Any asynchronous operation is also designed to be cancellable, allowing clean terminations of processes and units of
work.</p>
<h2 id="structure">2. Structure</h2>
<p>The library is structured into three main parts - the abstractions, the concrete reference implementations, and a
high-level layer.</p>
<p>At its core, the library exposes nothing but abstract interfaces without any implementations behind
them, serving only as a common and basic 1:1 mapping to the Discord API (with some allowances made for C#-ification of
data types). This abstraction layer has no external dependencies and no business logic whatsoever.</p>
<p>On top of that, a concrete reference implementation is defined, where the abstraction layer is used to build a base
library that actually does the work against the real API - serializing JSON, mapping properties, setting up websockets,
communicating over HTTP, etc; this library serves as the default implementation for any consumers that make use of the
abstractions in their projects.</p>
<p>Finally, a high-level layer utilizes the default implementation to provide a more consumer-friendly and C#-oriented API
for interacting with Discord - caching, setting nicknames, sending messages, joining servers, etc. This high-level layer
also provides an abstraction layer; this is what consumers should primarily use.</p>
<p>This structure enables Remora.Discord to first and foremost define a de facto C# mapping of the Discord API that any
library can implement, and end user applications will not have to adapt or be rewritten to support specific libraries.
Beyond that usage potential, Remora.Discord also takes the role of an implementer and provides a usable backend for the
abstractions.</p>
<h2 id="how-to-contribute">3. How to Contribute</h2>
<p>To contribute to the library, start by browsing open issues and seeing if anything catches your eye &amp; interest. If it
does, fork the project (if you haven't already) and create a separate branch for your changes. Open a pull request early
and claim the issue, then begin working. Following the goal guidelines and input from other community members, finalize
your changes into a state where you're happy with them, then request a review and merge from a maintainer.</p>
<p>Once your pull request clears the review phase, it'll be merged. If any changes are necessary, you will be alerted
during the review phase and a maintainer will work with you to ensure your changes are in line with the library's goals
and up to snuff.</p>
<p>Generally, code at the review phase is expected to fulfill the following requirements; that is, that it:</p>
<ul>
<li>Compiles. Code that does not compile will instantly fail code review.</li>
<li>Follows the library's syntax standards. In most cases, the compiler will yell at you if you do something
incorrectly. If not, a maintainer will most likely catch it during review and send it back so you can fix it.</li>
<li>Has unit tests. If your contribution adds code that is uncovered by tests, you are expected to also write tests for
it that has as high a coverage as is realistically possible.</li>
<li>Passes all tests. If you have failing unit tests, you must correct either your changes or the tests to pass and
appropriately test the changes.</li>
<li>Follows the library goals. See the goals above; this is a "soft" requirement, in that there are no hard rules - it's
the spirit of the goals that matters. If a maintainer believes that something is implemented contrary to the goals,
they will alert you during the review phase, or earlier if they've noticed by themselves.</li>
</ul>
<h2 id="tips-tricks">4. Tips &amp; Tricks</h2>
<p>In order to more quickly write code that's in line with the library standards, consider applying the following tips &amp;
tricks while developing.</p>
<ul>
<li>Fail fast, fail often. If your code takes an input, verify it as early as possible and return an error (or throw, if
appropriate) as quickly as you can. If you call a method that has failure potential, always check the results.</li>
<li>Minimize indentation. Keep things as flat and linear as you can, avoiding deep nesting. Invert conditionals where
possible; prefer <code>if (!condition)</code> and returning over <code>if (condition)</code> and performing actions inside the scope.</li>
<li>Avoid throwing exceptions. Exceptions should only be used for programmer errors, as defined in <a href="#1-goals">Goals</a>.</li>
<li>Avoid catching exceptions in inner scopes. If something does go wrong, it should bubble up as far as possible before
being caught and wrapped in a result.</li>
<li>Never let exceptions bubble up into user code. While exceptions should bubble up as far as possible, it should
<em>never</em> reach user code. An uncaught exception that bubbles up into user code is considered a library bug.</li>
<li>Formulate boolean parameters and properties as questions. Write <code>ShouldDoThing</code> instead of <code>DoThing</code>, <code>IsDone</code>
instead of <code>Done</code>, etc.</li>
<li>Avoid returning <code>null</code>. <code>null</code> is to be considered an exceptional value, and should not be returned without a very
good reason. Similarly, <code>null</code> should not be accepted as a valid input unless explicitly intended.</li>
<li>Use C#8's nullability annotations. Be clear and concise with your intent.</li>
<li>Don't surprise the caller. Follow the principle of least astonishment - if a user would be surprised by what your
code does, it's probably time to change it.</li>
<li>Name methods and variables descriptively. It's better to have a long and descriptive name than a short and
abbreviated one.</li>
</ul>

	</section>
                
            </div>           
            
            <!-- Footer -->
            <footer class="main-footer">
            </footer>
            
        </div>
        <div class="wrapper bottom-wrapper">
            <footer class="bottom-footer">
                Generated by <a href="https://wyam.io">Wyam</a>
            </footer>
        </div>
        <a href="javascript:" id="return-to-top"><i class="fa fa-chevron-up"></i></a>
        
        <script>           
            // Close the sidebar if we select an anchor link
            $(".main-sidebar a[href^='#']:not('.expand')").click(function(){
                $(document.body).removeClass('sidebar-open');
            });
            
            $(document).ready(function() {
                mermaid.initialize(
                {
                    flowchart:
                    {
                        useMaxWidth: false
                    },
					startOnLoad: false,
					cloneCssStyles: false
                });     
                mermaid.init(undefined, ".mermaid");

                // Remove the max-width setting that Mermaid sets
                var mermaidSvg = $('.mermaid svg');
                mermaidSvg.addClass('img-responsive');
                mermaidSvg.css('max-width', '');

                // Make it scrollable
				var target = document.querySelector(".mermaid svg");
				if(target !== null)
				{
					var panZoom = window.panZoom = svgPanZoom(target, {
						zoomEnabled: true,
						controlIconsEnabled: true,
						fit: true,
						center: true,
                        maxZoom: 20,
                        zoomScaleSensitivity: 0.6
					});			                          

                    // Do the reset once right away to fit the diagram
                    panZoom.resize();
                    panZoom.fit();
                    panZoom.center();
                    
                    $(window).resize(function(){
                        panZoom.resize();
                        panZoom.fit();
                        panZoom.center();
                    });
				}
                
                $('pre code').each(function(i, block) {
                    hljs.highlightBlock(block);
                });  
            });

            hljs.initHighlightingOnLoad();

            // Back to top
            $(window).scroll(function() {
                if ($(this).scrollTop() >= 200) {        // If page is scrolled more than 50px
                    $('#return-to-top').fadeIn(1000);    // Fade in the arrow
                } else {
                    $('#return-to-top').fadeOut(1000);   // Else fade out the arrow
                }
            });
            $('#return-to-top').click(function() {      // When arrow is clicked
                $('body,html').animate({
                    scrollTop : 0                       // Scroll to top of body
                }, 500);
            });
        </script>
    
</body></html>